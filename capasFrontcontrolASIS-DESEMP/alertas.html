<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docentes: Alertas por riesgo académico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</head>
</head>

<body class="bg-dark text-white">
  <div class="d-flex justify-content-center m-4">
    <h2><strong>Docentes:</strong> Alertas por riesgo académico</h2>
  </div>

  <div class="card d-flex justify-content-center m-4 text-bg-dark shadow-lg rounded-4">
    <div class="card-header text-center fs-5">
      <strong>¡Bienvenido!</strong>
    </div>

    <div class="card-body px-5 py-4">
      <div class="table-responsive">
        <table class="table table-dark table-hover table-bordered align-middle text-center">
          <thead class="table-warning text-dark">
            <tr>
              <th>#</th>
              <th>Estudiante</th>
              <th>Curso</th>
              <th>Motivo de Alerta</th>
            </tr>
          </thead>
          <tbody id="alertasTable">
            <!-- Filas dinámicas con JS -->
            <!-- Ejemplo estático -->
            <tr class="table-danger">
              <td>1</td>
              <td>Pedro López</td>
              <td>Matemáticas</td>
              <td>Promedio &lt; 3.0</td>
            </tr>
            <tr class="table-warning">
              <td>2</td>
              <td>María Rodríguez</td>
              <td>Historia</td>
              <td>Asistencia &lt; 70%</td>
            </tr>
            <tr class="table-danger">
              <td>3</td>
              <td>Pedro López</td>
              <td>Historia</td>
              <td>Promedio &lt; 3.0</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    // Ejemplo de carga dinámica con fetch
    async function cargarAlertas() {
      const res = await fetch("http://localhost:3003/alertas"); // Cambia el puerto si es necesario
      const data = await res.json();

      const tbody = document.getElementById("alertasTable");
      tbody.innerHTML = "";

      data.forEach((alerta, index) => {
        // Color dinámico: rojo si es nota, amarillo si es asistencia
        let clase = alerta.razon.includes("Promedio") ? "table-danger" : "table-warning";

        tbody.innerHTML += `
          <tr class="${clase}">
            <td>${index + 1}</td>
            <td>${alerta.estudiante}</td>
            <td>${alerta.curso}</td>
            <td>${alerta.razon}</td>
          </tr>
        `;
      });
    }

    cargarAlertas();
  </script>
</body>


</html>